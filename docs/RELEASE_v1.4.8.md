# Release Notes v1.4.8

**–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** 1 –Ω–æ—è–±—Ä—è 2025  
**–¢–∏–ø:** Hotfix (Critical Bug Fix)

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### Critical: –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç—É—Ä–Ω–∏—Ä–∞ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—É—Ä–Ω–∏—Ä–∞ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/result` –≤ Telegram –±–æ—Ç–µ, –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ç—É—Ä–Ω–∏—Ä–∞ –∏ –≤–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "15 - 0"), –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è.

**–ü—Ä–∏—á–∏–Ω–∞:** API routes –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `TournamentService` —Å `createClientComponentClient()`, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–µ—Å—Å–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –£ Telegram –±–æ—Ç–∞ –Ω–µ—Ç —Ç–∞–∫–æ–π —Å–µ—Å—Å–∏–∏, –ø–æ—ç—Ç–æ–º—É –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase –æ—Ç–∫–ª–æ–Ω—è–ª–∏—Å—å –∏–∑-–∑–∞ Row Level Security –ø–æ–ª–∏—Ç–∏–∫.

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω API route `/api/tournaments/[id]` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `createAdminClient()`
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω API route `/api/tournaments` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `createAdminClient()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- API Route: `src/app/api/tournaments/[id]/route.ts` (GET, PUT)
- API Route: `src/app/api/tournaments/route.ts` (GET)
- Telegram Bot: –ö–æ–º–∞–Ω–¥—ã `/result`, `/tournaments`, `/stats`

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```typescript
// API route –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª TournamentService
const tournament = await TournamentService.getTournamentById(tournamentId)

// TournamentService –≤–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª client component client
const supabase = createClientComponentClient() // ‚ùå –¢—Ä–µ–±—É–µ—Ç —Å–µ—Å—Å–∏—é
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```typescript
// API route –∏—Å–ø–æ–ª—å–∑—É–µ—Ç admin client –Ω–∞–ø—Ä—è–º—É—é
const supabase = createAdminClient() // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–µ—Å—Å–∏–∏

const { data: tournament } = await supabase
  .from('tournaments')
  .select('*')
  .eq('id', tournamentId)
  .single()
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ `/result` –≤ Telegram –±–æ—Ç–µ
2. ‚úÖ –í—ã–±–æ—Ä —Ç—É—Ä–Ω–∏—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
3. ‚úÖ –í–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: "15 - 0" –∏–ª–∏ "1 | 2500"
4. ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ `/stats`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
```bash
npm run build  # ‚úÖ –£—Å–ø–µ—à–Ω–æ
npm run lint   # ‚úÖ 0 –æ—à–∏–±–æ–∫
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ Admin client –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ API routes
- ‚úÖ RLS –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∑–∞—â–∏—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getUserOrCreate()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ user_id
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ `user_id` –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üì¶ –î–µ–ø–ª–æ–π

```bash
# –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
git commit -m "fix: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞"

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ GitHub
git push origin main

# Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–æ–≤ —á–µ—Ä–µ–∑ –±–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –í—Å–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö breaking changes

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ù–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `docs/QUICK_FIX_BOT_RESULT_ERROR.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `QUICK_FIX_SUMMARY.md` - –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `src/app/api/tournaments/[id]/route.ts` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ admin client
- `src/app/api/tournaments/route.ts` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ admin client

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ production
1. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è –Ω–∞ Vercel
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–æ–º–∞–Ω–¥—ã `/result` –≤ –±–æ—Ç–µ
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### Rollback –ø–ª–∞–Ω
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
```bash
git revert 358cf1f
git push origin main
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏

- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏–∑–º–µ–Ω–µ–Ω–æ:** ~276 (334 –¥–æ–±–∞–≤–ª–µ–Ω–æ, 58 —É–¥–∞–ª–µ–Ω–æ)
- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 4
- **–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** ~20 –º–∏–Ω—É—Ç
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** Low

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç

- [x] –ü—Ä–æ–±–ª–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞
- [x] –†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] –ö–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ–≤–µ—Ä–µ–Ω (0 –æ—à–∏–±–æ–∫)
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [x] –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω
- [x] –ì–æ—Ç–æ–≤–æ –∫ push –Ω–∞ GitHub
- [ ] Push –Ω–∞ GitHub
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ production

---

**–í–µ—Ä—Å–∏—è:** 1.4.8  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ READY FOR DEPLOY  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**Reviewer:** Pending

